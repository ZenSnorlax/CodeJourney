# C++ 中数组和指针的区别

### 1. 定义与语法
- **数组**：数组是固定大小的元素集合，每个元素类型相同。数组一旦声明，其大小（即元素的个数）是固定的，无法改变。
  ```cpp
  int arr[5];  // 声明一个包含5个整数的数组
  ```

- **指针**：指针是一个变量，用于存储另一个变量的内存地址。指针可以指向任意类型的变量，并且可以在运行时改变指向的地址。
  ```cpp
  int *ptr;  // 声明一个指向整数的指针
  ```

### 2. 内存分配
- **数组**：数组在定义时会在栈上分配固定大小的内存。这意味着数组的大小在编译时就已经确定，数组名（例如 `arr`）表示的是数组的起始地址，但它本身不是一个指针。
  
- **指针**：指针本身占用一个固定的内存空间（通常是 4 或 8 个字节，取决于系统），用来存储一个地址。指针可以通过 `new` 或 `malloc` 函数在堆上动态分配内存，大小可以在运行时确定。
  ```cpp
  int *ptr = new int[5];  // 动态分配一个包含5个整数的数组
  ```

### 3. 可修改性
- **数组**：数组名（如 `arr`）是常量，不能被赋值或修改。你不能改变 `arr` 指向另一个内存位置。
  
- **指针**：指针是变量，可以在运行时改变其指向的地址。
  ```cpp
  int *ptr = arr;  // ptr 指向 arr 的第一个元素
  ptr = &arr[1];   // ptr 现在指向 arr 的第二个元素
  ```

### 4. 运算与访问
- **数组**：可以使用下标操作符 `[]` 来访问数组元素。
  ```cpp
  int val = arr[2];  // 访问数组的第三个元素
  ```

- **指针**：指针可以通过指针算术（如 `ptr + 1`）和解引用操作符 `*` 来访问其指向的地址上的值。
  ```cpp
  int val = *(ptr + 2);  // 访问指针 ptr 指向的数组的第三个元素
  ```

### 5. 常量指针与指向常量的指针
- **数组名作为指针常量**：数组名不能改变，但可以被用于获取数组首元素的地址。
  
- **指针变量**：指针变量可以改变其指向，但如果是 `const` 指针或指向 `const` 数据的指针，则会有不同的限制。
  ```cpp
  const int *p1 = arr;  // p1 可以指向不同的数组，但不能修改所指向的值
  int *const p2 = arr;  // p2 不能指向其他数组，但可以修改所指向的值
  ```

总结来说，数组和指针在 C++ 中有许多相似之处，但它们的用途、行为和内存管理方式有着本质的不同。理解这两者的区别对编写高效且安全的 C++ 代码非常重要。